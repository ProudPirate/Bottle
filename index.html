<!DOCTYPE html>
<html>
  <head>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/css/bootstrap.min.css"
      integrity="sha384-DhY6onE6f3zzKbjUPRc2hOzGAdEf4/Dz+WJwBvEYL/lkkIsI3ihufq9hk9K4lVoK"
      crossorigin="anonymous"
    />
    <!-- Custom styling -->
    <style>
      .center {
        margin: auto;
        width: 50%;
        border: 3px solid rgb(36, 138, 197);
        padding: 10px;
      }

      label {
        font-weight: bold;
      }
    </style>
    <!-- Import dependencies -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <!-- Javascript using ajax to hit AWS API -->
    <script type="text/javascript">
      $(document).ready(function () {
        $("#submit").click(function (e) {
          e.preventDefault();

          var email = $("#email").val(); //collect email from user

          $.ajax({
            type: "POST",
            url:
              "https://56gw3i2zrg.execute-api.us-east-1.amazonaws.com/dev/emailSubscribe",
            contentType: "application/json",
            data: JSON.stringify({
              email: email,
            }),
            success: function (res) {
              $("#form-response").text(res.body);
            },
            error: function () {
              $("#form-response").text("Error.");
            },
          });
        });
      });
    </script>
  </head>

  <body class="bg-dark">
    <div class="card center bg-info">
      <div class="card-body">
      <!-- Form to take email as input -->
        <form class="card-body align-items-center">
          <label for="email">Email</label>
          <input id="email" class="" />
          <button id="submit" class="btn btn-primary">Submit</button>
        </form>
        <!-- To display response from AWS API -->
        <div id="form-response" class="text-white"></div>
      </div>
    </div>
  </body>
  <!-- Import dependencies -->
  <script
    src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/js/bootstrap.min.js"
    integrity="sha384-5h4UG+6GOuV9qXh6HqOLwZMY4mnLPraeTrjT5v07o347pj6IkfuoASuGBhfDsp3d"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha2/js/bootstrap.bundle.min.js"
    integrity="sha384-BOsAfwzjNJHrJ8cZidOg56tcQWfp6y72vEJ8xQ9w6Quywb24iOsW913URv1IS4GD"
    crossorigin="anonymous"
  ></script>
</html>
